{
  "metadata": {
    "version": "0.1",
    "description": "A JSON Typedef of an event model, see https://eventmodeling.org\nMassaged version from JTD infer."
  },
  "definitions": {
    "cardinality": {
      "enum": [
        "Single",
        "List"
      ]
    },
    "fields": {
      "elements": {
        "properties": {
          "cardinality": {
            "enum": [
              "Single",
              "List"
            ]
          },
          "example": {
            "type": "string"
          },
          "mapping": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "enum": [
              "String",
              "UUID",
              "Int",
              "Double",
              "Boolean",
              "Date",
              "DateTime",
              "Long",
              "Custom"
            ]
          }
        }
      }
    },
    "command": {
      "properties": {
        "fields": {
          "elements": {
            "properties": {
              "cardinality": {
                "enum": [
                  "Single",
                  "List"
                ]
              },
              "example": {
                "type": "string"
              },
              "mapping": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "String",
                  "UUID",
                  "Int",
                  "Double",
                  "Boolean",
                  "Date",
                  "DateTime",
                  "Long",
                  "Custom"
                ]
              }
            }
          }
        },
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "type": {
          "enum": [
            "COMMAND"
          ]
        }
      }
    },
    "event": {
      "properties": {
        "fields": {
          "elements": {
            "properties": {
              "cardinality": {
                "enum": [
                  "Single",
                  "List"
                ]
              },
              "example": {
                "type": "string"
              },
              "mapping": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "String",
                  "UUID",
                  "Int",
                  "Double",
                  "Boolean",
                  "Date",
                  "DateTime",
                  "Long",
                  "Custom"
                ]
              }
            }
          }
        },
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "type": {
          "enum": [
            "EVENT"
          ]
        }
      }
    },
    "aggregate": {
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "type": {
          "enum": [
            "AGGREGATE"
          ]
        }
      },
      "optionalProperties": {
        "fields": {
          "elements": {
            "properties": {
              "cardinality": {
                "enum": [
                  "Single",
                  "List"
                ]
              },
              "example": {
                "type": "string"
              },
              "mapping": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "String",
                  "UUID",
                  "Int",
                  "Double",
                  "Boolean",
                  "Date",
                  "DateTime",
                  "Long",
                  "Custom"
                ]
              }
            }
          }
        }
      }
    },
    "processor": {
      "properties": {
        "fields": {
          "elements": {
            "properties": {
              "cardinality": {
                "enum": [
                  "Single",
                  "List"
                ]
              },
              "example": {
                "type": "string"
              },
              "mapping": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "String",
                  "UUID",
                  "Int",
                  "Double",
                  "Boolean",
                  "Date",
                  "DateTime",
                  "Long",
                  "Custom"
                ]
              }
            }
          }
        },
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "type": {
          "enum": [
            "AUTOMATION"
          ]
        }
      }
    },
    "readmodel": {
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "type": {
          "enum": [
            "READMODEL"
          ]
        }
      },
      "optionalProperties": {
        "fields": {
          "elements": {
            "properties": {
              "cardinality": {
                "enum": [
                  "Single",
                  "List"
                ]
              },
              "example": {
                "type": "string"
              },
              "mapping": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "String",
                  "UUID",
                  "Int",
                  "Double",
                  "Boolean",
                  "Date",
                  "DateTime",
                  "Long",
                  "Custom"
                ]
              }
            }
          }
        }
      }
    },
    "screen": {
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "type": {
          "enum": [
            "SCREEN"
          ]
        }
      },
      "optionalProperties": {
        "fields": {
          "elements": {
            "properties": {
              "cardinality": {
                "enum": [
                  "Single",
                  "List"
                ]
              },
              "example": {
                "type": "string"
              },
              "mapping": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "String",
                  "UUID",
                  "Int",
                  "Double",
                  "Boolean",
                  "Date",
                  "DateTime",
                  "Long",
                  "Custom"
                ]
              }
            }
          }
        }
      }
    },
    "specification": {
      "elements": {
        "properties": {
          "sliceName": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "given": {
            "elements": {
              "properties": {
                "title": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "SPEC_EVENT",
                    "SPEC_READMODEL"
                  ]
                },
                "fields": {
                  "elements": {
                    "properties": {
                      "cardinality": {
                        "enum": [
                          "Single",
                          "List"
                        ]
                      },
                      "example": {
                        "type": "string"
                      },
                      "mapping": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "type": {
                        "enum": [
                          "String",
                          "UUID",
                          "Int",
                          "Double",
                          "Boolean",
                          "Date",
                          "DateTime",
                          "Long",
                          "Custom"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "when": {
            "elements": {
              "properties": {
                "title": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "SPEC_COMMAND"
                  ]
                },
                "fields": {
                  "elements": {
                    "properties": {
                      "cardinality": {
                        "enum": [
                          "Single",
                          "List"
                        ]
                      },
                      "example": {
                        "type": "string"
                      },
                      "mapping": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "type": {
                        "enum": [
                          "String",
                          "UUID",
                          "Int",
                          "Double",
                          "Boolean",
                          "Date",
                          "DateTime",
                          "Long",
                          "Custom"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "then": {
            "elements": {
              "properties": {
                "title": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "SPEC_EVENT",
                    "SPEC_READMODEL",
                    "SPEC_ERROR"
                  ]
                },
                "fields": {
                  "elements": {
                    "properties": {
                      "cardinality": {
                        "enum": [
                          "Single",
                          "List"
                        ]
                      },
                      "example": {
                        "type": "string"
                      },
                      "mapping": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "type": {
                        "enum": [
                          "String",
                          "UUID",
                          "Int",
                          "Double",
                          "Boolean",
                          "Date",
                          "DateTime",
                          "Long",
                          "Custom"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "properties": {
    "aggregates": {
      "elements": {
        "ref": "aggregate"
      }
    },
    "sliceDependencies": {
      "elements": {
        "properties": {
          "source": {
            "type": "string"
          },
          "target": {
            "type": "string"
          }
        }
      }
    },
    "slices": {
      "elements": {
        "properties": {
          "commands": {
            "elements": {
              "ref": "command"
            }
          },
          "events": {
            "elements": {
              "ref": "event"
            }
          },
          "id": {
            "type": "string"
          },
          "processors": {
            "elements": {
              "ref": "processor"
            }
          },
          "readmodels": {
            "elements": {
              "ref": "readmodel"
            }
          },
          "screens": {
            "elements": {
              "ref": "screen"
            }
          },
          "specifications": {
            "elements": {
              "ref": "specification"
            }
          },
          "title": {
            "type": "string"
          }
        }
      }
    }
  }
}